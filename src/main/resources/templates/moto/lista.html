<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragmentos :: cabecalho(#{texto.lista.motos})}"></head>
<body>
	<form th:replace="~{fragmentos :: form-logout}" />
	<div th:replace="~{fragmentos :: voltar-home}"></div>
	<div class="container mt-4">
		<div th:replace="~{fragmentos :: saudacoes(${funcionario})}" />
		<div class="row justify-content-center">
			<div class="col-lg-11">
				<div class="card shadow-sm">
					<div class="card-header bg-primary text-white text-center">
						<h2 class="mb-0" th:text="#{texto.lista.motos}">Lista de Motos</h2>
					</div>
					<div class="card-body">
						<a class="btn btn-success mb-3" th:href="@{/moto/nova}">
							<i class="bi bi-plus-circle"></i> <span th:text="#{texto.botao.novo.moto}">Nova Moto</span>
						</a>
						<div class="table-responsive">
							<table class="table table-hover align-middle">
								<thead class="table-light">
									<tr>
										<th th:text="#{texto.placa}">Placa</th>
										<th th:text="#{texto.modelo}">Modelo</th>
										<th th:text="#{texto.situacao}">Situação</th>
										<th th:text="#{texto.km_rodado}">KM Rodado</th>
										<th th:text="#{texto.filial.departamento}">Filial/Departamento</th>
										<th th:text="#{texto.cliente}">Cliente</th>
										<th th:text="#{texto.acoes}">Ações</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="moto : ${motos}">
										<td th:text="${moto.nm_placa}"></td>
										   <td th:text="${moto.modelo.nome}"></td>
										<td th:text="${moto.st_moto}"></td>
										<td th:text="${moto.km_rodado}"></td>
										<td th:text="${moto.filial_departamento.filial.nome_filial}"></td>
										<td>
											<span th:if="${moto.cliente != null}" th:text="${moto.cliente.nm_cliente}"></span>
											<span th:if="${moto.cliente == null}" class="text-muted">Nenhum</span>
										</td>
										<td>
											<div class="btn-group" role="group">
												<a th:href="@{'/moto/detalhes/' + ${moto.id_moto}}" class="btn btn-info btn-sm me-1">
													<i class="bi bi-search"></i> <span th:text="#{texto.botao.detalhes}">Detalhes</span>
												</a>
												<a th:href="@{'/moto/editar/' + ${moto.id_moto}}" class="btn btn-warning btn-sm me-1">
													<i class="bi bi-pencil"></i> <span th:text="#{texto.botao.editar}">Editar</span>
												</a>
												<a th:href="@{'/moto/excluir/' + ${moto.id_moto}}" class="btn btn-danger btn-sm" onclick="return confirm('#{texto.confirmar.excluir}');">
													<i class="bi bi-trash"></i> <span th:text="#{texto.botao.excluir}">Excluir</span>
												</a>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
