<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragmentos :: cabecalho('Lista de Clientes')}" />

<body>
	<form th:replace="~{fragmentos :: form-logout}" />
    <div th:replace="fragmentos :: voltar-home"></div>

    <div class="container">
        <div th:replace="~{fragmentos :: saudacoes(${funcionario})}" />

        <div class="row">
            <h1>Lista de Clientes</h1>
        </div>
        <div class="row">
            <div class="col-12">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>CPF</th>
                            <th>Telefone</th>
                            <th>Logradouro</th>
                            <th colspan="3" class="text-center">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="cliente : ${clientes}">
                            <td th:text="${cliente.id_cliente}"></td>
                            <td th:text="${cliente.nm_cliente}"></td>
                            <td th:text="${cliente.nm_email}"></td>
                            <td th:text="${cliente.nr_cpf}"></td>
                            <td>
                                <span th:if="${#lists.isEmpty(cliente.telefones)}">-</span>
                                <span th:each="tel : ${cliente.telefones}" th:text="${tel.nr_ddd + ' ' + tel.nr_telefone}" th:unless="${#lists.isEmpty(cliente.telefones)}"></span>
                            </td>
                            <td th:text="${cliente.logradouro.nm_logradouro}"></td>
                            <td><a th:href="@{/cliente/detalhes/{id}(id=${cliente.id_cliente})}">Detalhes</a></td>
                            <td><a th:href="@{/cliente/editar/{id}(id=${cliente.id_cliente})}">Editar</a></td>
                            <td><a th:href="@{/cliente/remover/{id}(id=${cliente.id_cliente})}">Remover</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <a href="/cliente/nova">Cadastrar um novo cliente</a>
        </div>
    </div>
</body>
</html>
